@include rules
@include project
@include agent/linter

voglio dividere src/ast2/mod.rs in diversi files, per migliore organizzazione.
Un problema che incontrerai e' che i test sono stati messi in una sottocartella / sottomodulo.
So che c'e' un modo (#path? o qualcosa di simile) che permette di "includere" dei files,
in modo da mantenere la sottocartella separata, ma dal punto di vista di rust tenere i test 
nello stesso modulo (ast2). Vorrei usassi questo approccio.

Studia il codice e proponi un refactoring in files.
Non eseguirlo, chiedi prima la mia approvazione.

<!-- answer-6437d07d-21dd-4b2d-87f2-b6cf893144a2:begin -->
Okay, I understand. I will analyze `src/ast2/mod.rs` to propose a refactoring plan that splits the code into multiple files while keeping the tests within the `ast2` module using the `#path` attribute, as you requested. I will then present this plan for your approval before making any changes.

Okay, I've analyzed `src/ast2/mod.rs`. It contains core data structures, the `Parser` implementation, and various parsing functions for document elements like tags, anchors, parameters, arguments, and values.

I propose the following refactoring plan to improve organization:

**New File Structure:**

```
src/ast2/
├── mod.rs
├── ast_types.rs          // Position, Range, Ast2Error, Result, Text, CommandKind, Parameters, Argument, Arguments, Tag, AnchorKind, Anchor, Content, Document, and their impls.
├── parser.rs             // The Parser struct and all its methods.
├── parse_document.rs     // parse_document, parse_content.
├── parse_tag_anchor.rs   // _try_parse_tag, _try_parse_anchor, _try_parse_command_kind, _try_parse_anchor_kind.
├── parse_params_args.rs  // _try_parse_parameters, _try_parse_parameter, _try_parse_arguments, _try_parse_argument.
├── parse_values.rs       // _try_parse_identifier, _try_parse_value, _try_parse_enclosed_value, _try_parse_enclosed_string, _try_parse_nude_value, _try_parse_nude_integer, _try_parse_nude_float, _try_parse_nude_bool, _try_parse_nude_string, _try_parse_uuid.
├── parse_text.rs         // _try_parse_text.
└── tests/                // Existing test files will remain here.
    └── mod.rs            // Will contain `mod` declarations for individual test files and `use super::*;`.
```

**`src/ast2/mod.rs` will be updated to:**
*   Contain `pub use` statements to re-export items from the new modules.
*   Include the test module using `#[cfg(test)] #[path = "tests/mod.rs"] mod tests;`.

**Inside `src/ast2/tests/mod.rs`:**
*   It will declare its submodules (e.g., `mod utils;`, `mod test_position_range;`).
*   It will use `use super::*;` to bring items from the `ast2` module into scope for the tests.

**Inside individual test files (e.g., `src/ast2/tests/test_position_range.rs`):**
*   They will use `use super::super::*;` to access items from the `ast2` module.

This plan separates concerns into logical files, improving modularity and readability, while maintaining the test structure as requested.

Do you approve this refactoring plan?
<!-- answer-6437d07d-21dd-4b2d-87f2-b6cf893144a2:end -->