
@set {
    provider: 'gemini -y -m gemini-2.5-pro',
    prefix: agent/code_refactorer.md
}

Leggi il modulo src/execute2/execute.rs e quello che ti serve nel modulo execute2 e ast2 per capire.
Vorrei una nuova funzione, creata in un nuovo file src/execute2/analize.rs.

Questa funzione analize_context() dovrebbe ritornarmi una struttura con cui poi fare comodamente output.
La struttura dovrebbe includere tutte le ancore presenti nel documento (solo nel documento, senza percorrere gli @include, questa
funzione deve solo fare il parsing del documento passato e non di altri), comprese dei loro State.
La struttura ritornata poi la useremo (in uno step successivo) per scrievere un po di info in console.

Studia, fammi tutte le domande per risolvere i dubbi che hai su questa implementazione, non implementare nulla per ora.

@answer

  