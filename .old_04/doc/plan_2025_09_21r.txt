# Plan for Introducing NARRATOR, MARKER, and HERO Models

This plan outlines the modifications required to introduce distinct model roles for prompt creation, labeling, and student response generation, replacing the generic 'big_model' and 'small_model' with more descriptive names: `NARRATOR`, `MARKER`, and `HERO`.

## Objectives:
-   Provide separate configuration for the model used for initial prompt generation (`NARRATOR`).
-   Provide separate configuration for the model used for labeling student responses (`MARKER`).
-   Provide separate configuration for the model used to generate student responses (`HERO`).
-   Maintain clarity and avoid breaking existing functionality.

## Implementation Details:

### 1. Update `src/bin/data_generator/cli_args.rs`

-   **Rename `big_model`:** Change the `big_model` argument to `narrator_model`.
-   **Add `marker_model`:** Introduce a new command-line argument `marker_model` for the labeling model.
-   **Rename `small_model`:** Change the `small_model` argument to `hero_model`.
-   **Adjust Default Values:** Update default values for these new arguments as appropriate (e.g., `narrator_model` and `marker_model` might default to the previous `big_model` value, and `hero_model` to the previous `small_model` value).

### 2. Update `src/bin/data_generator/pipeline.rs`

-   **`generate_student_prompt` function:**
    -   Modify its signature to accept `narrator_model: &str` instead of `args.big_model`.
    -   Update the internal call to `query_ollama` to use this new `narrator_model`.
-   **`get_student_response` function:**
    -   Modify its signature to accept `hero_model: &str` instead of `args.small_model`.
    -   Update the internal call to `query_ollama` to use this new `hero_model`.
-   **`label_student_response` function:**
    -   Modify its signature to accept `marker_model: &str` instead of `args.big_model`.
    -   Update the internal call to `query_ollama` to use this new `marker_model`.

### 3. Update `src/bin/data_generator/main.rs`

-   **`generate_student_prompt` call:** Update the call to `pipeline::generate_student_prompt` to pass `args.narrator_model`.
-   **`get_student_response` call:** Update the call to `pipeline::get_student_response` to pass `args.hero_model`.
-   **`label_student_response` call:** Update the call to `pipeline::label_student_response` to pass `args.marker_model`.

### 4. Review `src/bin/data_generator/ollama_client.rs`

-   No changes are expected here, as `query_ollama` already accepts a `model: &str` argument. The new model names will simply be passed through.

### 5. Review `src/bin/data_generator/prompt_templates.rs` and `src/bin/data_generator/tool_definitions.rs`

-   Perform a quick review to ensure no hardcoded model names exist that would conflict with this change. (Highly unlikely, but a good practice).

## Next Steps:

1.  Obtain user approval for this plan.
2.  Implement changes in `cli_args.rs`.
3.  Implement changes in `pipeline.rs`.
4.  Implement changes in `main.rs`.
5.  Compile and test the `data_generator` to ensure all model roles are correctly assigned and the application functions as expected.
