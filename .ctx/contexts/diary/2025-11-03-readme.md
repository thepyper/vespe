@include agent/man_writer
@include agent/gemini_25_flash_yolo
@include project

Voglio scrivere un file README.md per questo progetto.

Ti do gli spunti che mi interessano:

1. Scopo del tool e' "permettere ad utente e llm di condividere una mappa mentale".
2. Per fare questo, il tool lavora su un insieme di documenti testuali (i context), ovvero dei file Markdown con aggiunta di comandi custom che permettono interazione con llm.
3. Partirei con esempi molto semplici ed immediati di utilizzo (demo, non realmente utile). Vedi .ctx/contexts/test/test4.md per un esempio (questo contesto e' gia' eseguito, iniziamente c'erano i tag non le anchor).
4. Continuerei con una descrizione dei singoli tag.

Il documento deve filare via liscio, essere conciso ed efficace. Pragmatico piu' che tecnico, comunque preciso.

Prova a scrivere una bozza poi ci lavoriamo.

<!-- answer-cd4ba790-b943-491c-aee0-5a1e7a703c8e:begin {}  -->
Here's a draft for the `README.md` file:

```markdown
# Vespe: Your Collaborative Mind-Mapping Tool with LLMs

Vespe, through its `ctx` command-line interface, empowers users and Large Language Models (LLMs) to collaboratively build and share "mind maps." It achieves this by working with an interconnected set of text documents, referred to as "contexts." These contexts are essentially Markdown files augmented with special commands that facilitate dynamic interaction with LLMs.

## Getting Started: A Quick Demo

Let's dive into a simple example to see `ctx` in action. Imagine you have a context file like this (e.g., `.ctx/contexts/test/test4.md`):

```markdown
@include rules

Tell me 3 violet things.

#<!-- answer-be05e54f-cfe6-4ca6-be4f-6bb700000000:begin {}  -->
#<!-- answer-be05e54f-cfe6-4ca6-be4f-6bb700000000:end {}  -->

Tell me something nice.

#<!-- answer-8014ce3a-23b4-4e17-afe0-287db0000000:begin { system: agent/gemini_25_flash_yolo }  -->
#<!-- answer-8014ce3a-23b4-4e17-afe0-287db0000000:end {}  -->
```

Initially, the `<!-- answer-... -->` blocks would contain `@answer` tags. When you execute this context using `ctx`, the LLM processes the prompts, and the `ctx` tool injects the responses directly into your Markdown file, transforming the tags into "anchors" (HTML comments with UUIDs). The example above, after execution, might look like this:

```markdown
@include rules

Tell me 3 violet things.

#<!-- answer-be05e54f-cfe6-4ca6-be4f-6bb700000000:begin {}  -->
1. Amethyst
2. Lavender
3. Violets (the flower)
#<!-- answer-be05e54f-cfe6-4ca6-be4f-6bb700000000:end {}  -->

Tell me something nice.

#<!-- answer-8014ce3a-23b4-4e17-afe0-287db0000000:begin { system: agent/gemini_25_flash_yolo }  -->
You are doing great! Keep up the excellent work.
#<!-- answer-8014ce3a-23b4-4e17-afe0-287db0000000:end {}  -->
```

This seamless integration allows for iterative development of ideas, where the LLM's contributions become an integral part of your living document.

## Key Commands (Tags)

Vespe extends standard Markdown with a set of powerful commands, or "tags," prefixed with `@`. These tags enable various functionalities, from including other contexts to interacting with LLMs and managing variables.

### `@include <path/to/context>`

The `@include` tag allows you to embed content from another context file directly into the current one. This is crucial for modularity and reusability, enabling you to build complex mind maps from smaller, focused contexts.

**Example:**
`@include common_definitions`

### `@answer { [parameters] }`

The `@answer` tag is the core of LLM interaction. It instructs `ctx` to send the surrounding text (or a specified input) to an LLM and then insert the LLM's response back into the document.

**Parameters:**
*   `system`: (Optional) Specifies a system prompt or agent to guide the LLM's behavior.
*   `input`: (Optional) Specifies an alternative input source for the LLM, instead of the surrounding text.
*   `output`: (Optional) Redirects the LLM's output to a specified file.

**Example:**

```markdown
What are the main benefits of cloud computing?

#<!-- answer-uuid-goes-here:begin {}  -->
#<!-- answer-uuid-goes-here:end {}  -->
```

After execution, the LLM's answer will appear between the `begin` and `end` markers.

### `@set <variable_name> = <value>`

The `@set` tag allows you to define and manage variables within your contexts. These variables can be used to control the behavior of other tags or to store information relevant to your mind map.

**Example:**
`@set project_name = "Vespe"`

### Other Tags (Coming Soon / Advanced)

Vespe is designed to be extensible, with plans for additional tags like `@decide`, `@choose`, and `@derive` to enable even more sophisticated LLM-driven workflows.

## Project Structure

*   **`.ctx/`**: This directory holds all Vespe-specific configuration and state.
    *   **`contexts/`**: Your collection of Markdown context files.
    *   **`.meta/`**: Stores execution state for dynamic tags (e.g., LLM responses).
*   **`src/ast2/`**: Handles parsing of context files into an Abstract Syntax Tree (AST).
*   **`src/execute2/`**: The core execution engine that interprets the AST, interacts with LLMs, and updates context files.
*   **`src/bin/ctx/main.rs`**: The main CLI application.

## Installation and Usage

(Instructions for installation and basic usage commands like `ctx init`, `ctx context new`, `ctx context execute`, `ctx watch` would go here.)
```
I've tried to incorporate all your points:
1.  **Purpose:** "permettere ad utente e llm di condividere una mappa mentale" is translated to "empowers users and Large Language Models (LLMs) to collaboratively build and share 'mind maps.'"
2.  **Mechanism:** Explained that it works on "contexts" which are "Markdown files augmented with special commands that facilitate dynamic interaction with LLMs."
3.  **Examples:** Used the `test4.md` example, showing the before and after of an `@answer` tag being processed into an anchor with LLM output. I've used placeholder UUIDs for brevity.
4.  **Tag Description:** Provided descriptions for `@include`, `@answer`, and `@set`, including parameters for `@answer`. I also added a section for "Other Tags" to hint at future extensibility.

I've also added a brief "Project Structure" section for context and a placeholder for "Installation and Usage" which you can fill in later.

Please review this draft and let me know if you'd like any changes or additions.
```
<!-- answer-cd4ba790-b943-491c-aee0-5a1e7a703c8e:end {}  -->

Come inizio puo' andare. Scrivilo in README.md poi ci lavoriamo.

@answer 




  
